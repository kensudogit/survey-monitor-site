import{r as e,a as s,b as t}from"./vendor-39eea0db.js";import{u as a,L as l,a as r,B as i,R as c,b as n}from"./router-f89c2712.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var d={exports:{}},o={},x=e,m=Symbol.for("react.element"),h=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,g=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j={key:!0,ref:!0,__self:!0,__source:!0};function p(e,s,t){var a,l={},r=null,i=null;for(a in void 0!==t&&(r=""+t),void 0!==s.key&&(r=""+s.key),void 0!==s.ref&&(i=s.ref),s)u.call(s,a)&&!j.hasOwnProperty(a)&&(l[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===l[a]&&(l[a]=s[a]);return{$$typeof:m,type:e,key:r,ref:i,props:l,_owner:g.current}}o.Fragment=h,o.jsx=p,o.jsxs=p,d.exports=o;var f=d.exports,b={},N=s;b.createRoot=N.createRoot,b.hydrateRoot=N.hydrateRoot;const v=e.createContext(),y=()=>{const s=e.useContext(v);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},w=({children:s})=>{const[t,a]=e.useState(null),[l,r]=e.useState(!0);e.useEffect((()=>{const e=localStorage.getItem("survey_monitor_user");e&&a(JSON.parse(e)),r(!1)}),[]);const i=e=>!(!e.name||e.name.length<2)&&(!(!e.email||!c(e.email))&&(!(!e.password||e.password.length<8)&&!(!e.age||!e.gender))),c=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),n=e=>btoa(e+"survey_monitor_salt"),d=()=>{const e=localStorage.getItem("survey_monitor_users");return e?JSON.parse(e):[]},o=e=>{const s=d(),t=s.findIndex((s=>s.id===e.id));-1!==t&&(s[t]=e,localStorage.setItem("survey_monitor_users",JSON.stringify(s)))},x={currentUser:t,loading:l,register:async e=>{try{if(!i(e))throw new Error("入力データが無効です");const s=d();if(s.find((s=>s.email===e.email)))throw new Error("このメールアドレスは既に登録されています");const t={id:Date.now().toString(),name:e.name,email:e.email,password:n(e.password),age:e.age,gender:e.gender,points:0,surveysCompleted:[],joinDate:(new Date).toISOString(),lastLogin:(new Date).toISOString()};return s.push(t),localStorage.setItem("survey_monitor_users",JSON.stringify(s)),a(t),localStorage.setItem("survey_monitor_user",JSON.stringify(t)),{success:!0,user:t}}catch(s){return{success:!1,error:s.message}}},login:async(e,s)=>{try{const t=d().find((t=>t.email===e&&t.password===n(s)));if(!t)throw new Error("メールアドレスまたはパスワードが正しくありません");return t.lastLogin=(new Date).toISOString(),o(t),a(t),localStorage.setItem("survey_monitor_user",JSON.stringify(t)),{success:!0,user:t}}catch(t){return{success:!1,error:t.message}}},loginDemo:()=>{const e={id:"demo_user",name:"デモユーザー",email:"demo@example.com",password:n("demo123"),age:"25-34",gender:"その他",points:150,surveysCompleted:["survey_1","survey_2"],joinDate:(new Date).toISOString(),lastLogin:(new Date).toISOString()},s=d(),t=s.findIndex((e=>"demo_user"===e.id));return-1!==t?s[t]=e:s.push(e),localStorage.setItem("survey_monitor_users",JSON.stringify(s)),a(e),localStorage.setItem("survey_monitor_user",JSON.stringify(e)),{success:!0,user:e}},logout:()=>{console.log("Logging out user:",null==t?void 0:t.name),a(null),localStorage.removeItem("survey_monitor_user")},addPoints:e=>{if(t){const s={...t,points:t.points+e};a(s),o(s),localStorage.setItem("survey_monitor_user",JSON.stringify(s))}},completeSurvey:e=>{if(t&&!t.surveysCompleted.includes(e)){const s={...t,surveysCompleted:[...t.surveysCompleted,e]};a(s),o(s),localStorage.setItem("survey_monitor_user",JSON.stringify(s))}},isAuthenticated:!!t};return f.jsx(v.Provider,{value:x,children:s})},k=e.createContext(),S=()=>{const s=e.useContext(k);if(!s)throw new Error("useTheme must be used within a ThemeProvider");return s},_=({children:s})=>{const[t,a]=e.useState((()=>{const e=localStorage.getItem("theme");return e||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}));e.useEffect((()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t)}),[t]);const l={theme:t,toggleTheme:()=>{a((e=>"light"===e?"dark":"light"))},isDark:"dark"===t,isLight:"light"===t};return f.jsx(k.Provider,{value:l,children:s})},C=()=>{const{currentUser:e,logout:s,isAuthenticated:t}=y(),{theme:r,toggleTheme:i,isDark:c}=S(),n=a();return f.jsx("header",{className:"glass-card sticky top-0 z-50",role:"banner",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center py-4",children:[f.jsx("div",{className:"flex items-center",children:f.jsxs(l,{to:"/",className:"text-2xl font-bold text-white hover:text-blue-200 transition-colors flex items-center group forced-colors-link","aria-label":"Survey Monitor ホームページへ",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mr-3 group-hover:scale-110 transition-transform motion-safe",children:f.jsx("i",{className:"fas fa-chart-bar text-white text-lg","aria-hidden":"true"})}),f.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Survey Monitor"})]})}),f.jsxs("nav",{className:"hidden md:flex space-x-6",role:"navigation","aria-label":"メインナビゲーション",children:[f.jsxs(l,{to:"/",className:"text-white hover:text-blue-200 font-medium transition-colors flex items-center group forced-colors-link motion-safe","aria-current":"/"===window.location.pathname?"page":void 0,children:[f.jsx("i",{className:"fas fa-home mr-2 group-hover:scale-110 transition-transform motion-safe","aria-hidden":"true"}),"ホーム"]}),f.jsxs(l,{to:"/surveys",className:"text-white hover:text-blue-200 font-medium transition-colors flex items-center group forced-colors-link motion-safe","aria-current":"/surveys"===window.location.pathname?"page":void 0,children:[f.jsx("i",{className:"fas fa-list mr-2 group-hover:scale-110 transition-transform motion-safe","aria-hidden":"true"}),"アンケート一覧"]}),t&&f.jsxs(f.Fragment,{children:[f.jsxs(l,{to:"/dashboard",className:"text-white hover:text-blue-200 font-medium transition-colors flex items-center group forced-colors-link motion-safe","aria-current":"/dashboard"===window.location.pathname?"page":void 0,children:[f.jsx("i",{className:"fas fa-tachometer-alt mr-2 group-hover:scale-110 transition-transform motion-safe","aria-hidden":"true"}),"ダッシュボード"]}),f.jsxs(l,{to:"/analytics",className:"text-white hover:text-blue-200 font-medium transition-colors flex items-center group forced-colors-link motion-safe","aria-current":"/analytics"===window.location.pathname?"page":void 0,children:[f.jsx("i",{className:"fas fa-brain mr-2 group-hover:scale-110 transition-transform motion-safe","aria-hidden":"true"}),"AI分析"]})]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("button",{onClick:i,className:"p-2 rounded-lg bg-white bg-opacity-10 hover:bg-opacity-20 transition-colors text-white forced-colors-button motion-safe",title:c?"ライトモードに切り替え":"ダークモードに切り替え","aria-label":c?"ライトモードに切り替え":"ダークモードに切り替え",children:f.jsx("i",{className:"fas "+(c?"fa-sun":"fa-moon"),"aria-hidden":"true"})}),t?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center space-x-3 bg-white bg-opacity-10 rounded-lg px-4 py-2",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:f.jsx("i",{className:"fas fa-user text-white text-sm","aria-hidden":"true"})}),f.jsxs("div",{className:"text-white",children:[f.jsx("div",{className:"font-medium text-sm",children:e.name}),f.jsxs("div",{className:"text-xs text-blue-200",children:[e.points,"pt"]})]})]}),f.jsxs("button",{onClick:()=>{s(),n("/")},className:"btn-secondary text-red-600 hover:text-red-700 hover:bg-red-50 forced-colors-button motion-safe","aria-label":"ログアウト",children:[f.jsx("i",{className:"fas fa-sign-out-alt mr-2","aria-hidden":"true"}),"ログアウト"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs(l,{to:"/login",className:"text-white hover:text-blue-200 font-medium transition-colors flex items-center forced-colors-link motion-safe",children:[f.jsx("i",{className:"fas fa-sign-in-alt mr-2","aria-hidden":"true"}),"ログイン"]}),f.jsxs(l,{to:"/register",className:"btn-primary flex items-center forced-colors-button motion-safe",children:[f.jsx("i",{className:"fas fa-user-plus mr-2","aria-hidden":"true"}),"新規登録"]})]})]})]})})})},I=()=>f.jsx("footer",{className:"bg-gray-900 text-white py-8 mt-16",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Survey Monitor"}),f.jsx("p",{className:"text-gray-400",children:"アンケートに参加してポイントを獲得し、あなたの意見を価値に変えましょう。"})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-semibold mb-4",children:"サービス"}),f.jsxs("ul",{className:"space-y-2 text-gray-400",children:[f.jsx("li",{children:f.jsx("a",{href:"/surveys",className:"hover:text-white",children:"アンケート一覧"})}),f.jsx("li",{children:f.jsx("a",{href:"/dashboard",className:"hover:text-white",children:"ダッシュボード"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"hover:text-white",children:"ポイント交換"})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-semibold mb-4",children:"アカウント"}),f.jsxs("ul",{className:"space-y-2 text-gray-400",children:[f.jsx("li",{children:f.jsx("a",{href:"/login",className:"hover:text-white",children:"ログイン"})}),f.jsx("li",{children:f.jsx("a",{href:"/register",className:"hover:text-white",children:"新規登録"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"hover:text-white",children:"プロフィール"})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-semibold mb-4",children:"サポート"}),f.jsxs("ul",{className:"space-y-2 text-gray-400",children:[f.jsx("li",{children:f.jsx("a",{href:"#",className:"hover:text-white",children:"ヘルプセンター"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"hover:text-white",children:"お問い合わせ"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"hover:text-white",children:"利用規約"})})]})]})]}),f.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:f.jsx("p",{children:"© 2024 Survey Monitor. All rights reserved."})})]})}),D=()=>f.jsxs("div",{children:[f.jsx("section",{className:"gradient-bg text-white py-20",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[f.jsx("h2",{className:"text-4xl md:text-6xl font-bold mb-6",children:"アンケートでポイントを獲得"}),f.jsx("p",{className:"text-xl md:text-2xl mb-8 opacity-90",children:"あなたの意見が価値に変わります"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsx(l,{to:"/register",className:"bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"今すぐ始める"}),f.jsx(l,{to:"/surveys",className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"アンケートを見る"})]})]})}),f.jsx("section",{className:"py-16 bg-white",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"71"}),f.jsx("div",{className:"text-gray-600",children:"利用可能なアンケート"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"1,250"}),f.jsx("div",{className:"text-gray-600",children:"登録ユーザー数"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"15,680"}),f.jsx("div",{className:"text-gray-600",children:"獲得ポイント総数"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"6.5分"}),f.jsx("div",{className:"text-gray-600",children:"平均回答時間"})]})]})})}),f.jsx("section",{className:"py-16 bg-gray-50",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"おすすめアンケート"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-md card-hover",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=400&h=200&fit=crop",alt:"スマートフォンアプリの使用状況調査",className:"w-full h-48 object-cover rounded-t-lg"}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:"テクノロジー"}),f.jsx("span",{className:"text-lg font-bold text-green-600 points-glow",children:"50pt"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"スマートフォンアプリの使用状況調査"}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"日常的に使用しているアプリについて教えてください"}),f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-clock mr-1"}),"5分"]}),f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-question-circle mr-1"}),"8問"]})]})}),f.jsxs(l,{to:"/survey/survey_1",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-semibold text-center block",children:[f.jsx("i",{className:"fas fa-play mr-2"}),"回答する"]})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md card-hover",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=400&h=200&fit=crop",alt:"オンラインショッピングの利用実態",className:"w-full h-48 object-cover rounded-t-lg"}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"ショッピング"}),f.jsx("span",{className:"text-lg font-bold text-green-600 points-glow",children:"40pt"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"オンラインショッピングの利用実態"}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"あなたの買い物習慣について教えてください"}),f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-clock mr-1"}),"7分"]}),f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-question-circle mr-1"}),"12問"]})]})}),f.jsxs(l,{to:"/survey/survey_2",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-semibold text-center block",children:[f.jsx("i",{className:"fas fa-play mr-2"}),"回答する"]})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md card-hover",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=200&fit=crop",alt:"働き方に関する意識調査",className:"w-full h-48 object-cover rounded-t-lg"}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-800",children:"ビジネス"}),f.jsx("span",{className:"text-lg font-bold text-green-600 points-glow",children:"60pt"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"働き方に関する意識調査"}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"現代の働き方についてあなたの意見を聞かせてください"}),f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-clock mr-1"}),"10分"]}),f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-question-circle mr-1"}),"15問"]})]})}),f.jsxs(l,{to:"/survey/survey_3",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-semibold text-center block",children:[f.jsx("i",{className:"fas fa-play mr-2"}),"回答する"]})]})]})]})]})}),f.jsx("section",{className:"py-16 bg-white",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"なぜSurvey Monitorなのか？"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("i",{className:"fas fa-gift text-2xl text-blue-600"})}),f.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ポイント獲得"}),f.jsx("p",{className:"text-gray-600",children:"アンケートに回答するだけでポイントを獲得できます"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("i",{className:"fas fa-clock text-2xl text-green-600"})}),f.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"短時間で完了"}),f.jsx("p",{className:"text-gray-600",children:"平均6.5分で完了する短時間アンケート"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("i",{className:"fas fa-shield-alt text-2xl text-purple-600"})}),f.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"安全・安心"}),f.jsx("p",{className:"text-gray-600",children:"個人情報は厳重に管理され、安全にご利用いただけます"})]})]})]})})]}),q=()=>{const[s,t]=e.useState(""),[r,i]=e.useState(""),[c,n]=e.useState(!1),[d,o]=e.useState(""),{login:x,loginDemo:m}=y(),h=a();return f.jsx("div",{className:"min-h-screen gradient-bg flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("img",{src:"/PC.png",alt:"Survey Monitor",className:"mx-auto h-16 w-16"}),f.jsx("h2",{className:"mt-6 text-3xl font-bold text-white",children:"ログイン"}),f.jsx("p",{className:"mt-2 text-white opacity-90",children:"アカウントにログインしてポイントを獲得しましょう"})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async e=>{e.preventDefault(),n(!0),o("");try{const e=await x(s,r);e.success?h("/dashboard"):o(e.error)}catch(t){o("ログインに失敗しました")}finally{n(!1)}},children:[d&&f.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:d}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-white mb-2",children:[f.jsx("i",{className:"fas fa-envelope mr-2"}),"メールアドレス"]}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 bg-white/90 backdrop-blur-sm border border-white/50 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all",placeholder:"example@email.com"})]}),f.jsxs("div",{className:"relative",children:[f.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-white mb-2",children:[f.jsx("i",{className:"fas fa-lock mr-2"}),"パスワード"]}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 bg-white/90 backdrop-blur-sm border border-white/50 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all",placeholder:"パスワードを入力"})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-white/50 rounded bg-white/90"}),f.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm font-medium text-white",children:"ログイン状態を保持"})]}),f.jsx("div",{className:"text-sm",children:f.jsx("a",{href:"#",className:"font-medium text-white hover:text-blue-200 transition-colors",children:"パスワードを忘れた場合"})})]}),f.jsx("div",{children:f.jsxs("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-xl text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all hover-lift neon-glow disabled:opacity-50",children:[f.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:f.jsx("i",{className:"fas fa-sign-in-alt text-white group-hover:text-blue-200"})}),c?"ログイン中...":"ログイン"]})}),f.jsx("div",{className:"text-center",children:f.jsxs("div",{className:"text-sm text-white",children:["デモアカウントでログイン:",f.jsx("button",{type:"button",onClick:async()=>{n(!0),o("");try{m().success?h("/dashboard"):o("デモユーザーログインに失敗しました")}catch(e){o("デモユーザーログインエラー")}finally{n(!1)}},disabled:c,className:"font-medium text-blue-200 hover:text-white ml-1 transition-colors disabled:opacity-50",children:"デモユーザー"})]})}),f.jsx("div",{className:"text-center pt-4 border-t border-white/30",children:f.jsxs("p",{className:"text-white",children:["アカウントをお持ちでない方は",f.jsx(l,{to:"/register",className:"font-medium text-blue-200 hover:text-white transition-colors",children:"新規登録"})]})})]})]})})},O=()=>{const[s,t]=e.useState({name:"",email:"",password:"",confirmPassword:"",age:"",gender:""}),[r,i]=e.useState(!1),[c,n]=e.useState(""),{register:d}=y(),o=a(),x=e=>{t({...s,[e.target.name]:e.target.value})};return f.jsx("div",{className:"min-h-screen gradient-bg flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("img",{src:"/PC.png",alt:"Survey Monitor",className:"mx-auto h-16 w-16"}),f.jsx("h2",{className:"mt-6 text-3xl font-bold text-white",children:"新規登録"}),f.jsx("p",{className:"mt-2 text-white opacity-90",children:"アカウントを作成してアンケートを始めましょう"})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async e=>{if(e.preventDefault(),i(!0),n(""),s.password!==s.confirmPassword)return n("パスワードが一致しません"),void i(!1);try{const e=await d(s);e.success?o("/dashboard"):n(e.error)}catch(t){n("登録に失敗しました")}finally{i(!1)}},children:[c&&f.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:c}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-white mb-2",children:[f.jsx("i",{className:"fas fa-user mr-2"}),"お名前"]}),f.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:s.name,onChange:x,className:"w-full px-4 py-3 bg-white/90 backdrop-blur-sm border border-white/50 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all",placeholder:"山田太郎"})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-white mb-2",children:[f.jsx("i",{className:"fas fa-envelope mr-2"}),"メールアドレス"]}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:x,className:"w-full px-4 py-3 bg-white/90 backdrop-blur-sm border border-white/50 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all",placeholder:"example@email.com"})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-white mb-2",children:[f.jsx("i",{className:"fas fa-lock mr-2"}),"パスワード"]}),f.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:s.password,onChange:x,className:"w-full px-4 py-3 bg-white/90 backdrop-blur-sm border border-white/50 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all",placeholder:"8文字以上で入力"})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-white mb-2",children:[f.jsx("i",{className:"fas fa-lock mr-2"}),"パスワード確認"]}),f.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:s.confirmPassword,onChange:x,className:"w-full px-4 py-3 bg-white/90 backdrop-blur-sm border border-white/50 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all",placeholder:"パスワードを再入力"})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"age",className:"block text-sm font-semibold text-white mb-2",children:[f.jsx("i",{className:"fas fa-calendar mr-2"}),"年齢層"]}),f.jsxs("select",{id:"age",name:"age",required:!0,value:s.age,onChange:x,className:"w-full px-4 py-3 bg-white/90 backdrop-blur-sm border border-white/50 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all",children:[f.jsx("option",{value:"",children:"選択してください"}),f.jsx("option",{value:"18-24",children:"18-24歳"}),f.jsx("option",{value:"25-34",children:"25-34歳"}),f.jsx("option",{value:"35-44",children:"35-44歳"}),f.jsx("option",{value:"45-54",children:"45-54歳"}),f.jsx("option",{value:"55-64",children:"55-64歳"}),f.jsx("option",{value:"65+",children:"65歳以上"})]})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"gender",className:"block text-sm font-semibold text-white mb-2",children:[f.jsx("i",{className:"fas fa-venus-mars mr-2"}),"性別"]}),f.jsxs("select",{id:"gender",name:"gender",required:!0,value:s.gender,onChange:x,className:"w-full px-4 py-3 bg-white/90 backdrop-blur-sm border border-white/50 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all",children:[f.jsx("option",{value:"",children:"選択してください"}),f.jsx("option",{value:"男性",children:"男性"}),f.jsx("option",{value:"女性",children:"女性"}),f.jsx("option",{value:"その他",children:"その他"})]})]})]}),f.jsx("div",{children:f.jsxs("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-xl text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all hover-lift neon-glow disabled:opacity-50",children:[f.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:f.jsx("i",{className:"fas fa-user-plus text-white group-hover:text-blue-200"})}),r?"登録中...":"アカウントを作成"]})}),f.jsx("div",{className:"text-center pt-4 border-t border-white/30",children:f.jsxs("p",{className:"text-white",children:["既にアカウントをお持ちの方は",f.jsx(l,{to:"/login",className:"font-medium text-blue-200 hover:text-white transition-colors",children:"ログイン"})]})})]})]})})},A=()=>{const{isAuthenticated:e}=y();return e?f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"アンケート一覧"}),f.jsx("p",{className:"text-xl text-gray-600",children:"興味のあるアンケートを選んで、ポイントを獲得しましょう"})]}),f.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"8"}),f.jsx("div",{className:"text-gray-600",children:"利用可能なアンケート"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"0"}),f.jsx("div",{className:"text-gray-600",children:"完了済み"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"0"}),f.jsx("div",{className:"text-gray-600",children:"獲得ポイント"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"6.5分"}),f.jsx("div",{className:"text-gray-600",children:"平均回答時間"})]})]})}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"カテゴリー"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[f.jsxs(l,{to:"/category/all",className:"category-card bg-blue-500 text-white p-6 rounded-lg text-center hover:bg-blue-600 transition-all hover-lift",children:[f.jsx("i",{className:"fas fa-th-large text-2xl mb-2"}),f.jsx("div",{className:"font-semibold",children:"すべて"}),f.jsx("div",{className:"text-sm opacity-90",children:"8件"})]}),f.jsxs(l,{to:"/category/テクノロジー",className:"category-card bg-blue-500 text-white p-6 rounded-lg text-center hover:bg-blue-600 transition-all hover-lift",children:[f.jsx("i",{className:"fas fa-laptop-code text-2xl mb-2"}),f.jsx("div",{className:"font-semibold",children:"テクノロジー"}),f.jsx("div",{className:"text-sm opacity-90",children:"2件"})]}),f.jsxs(l,{to:"/category/ショッピング",className:"category-card bg-green-500 text-white p-6 rounded-lg text-center hover:bg-green-600 transition-all hover-lift",children:[f.jsx("i",{className:"fas fa-shopping-cart text-2xl mb-2"}),f.jsx("div",{className:"font-semibold",children:"ショッピング"}),f.jsx("div",{className:"text-sm opacity-90",children:"2件"})]}),f.jsxs(l,{to:"/category/ビジネス",className:"category-card bg-purple-500 text-white p-6 rounded-lg text-center hover:bg-purple-600 transition-all hover-lift",children:[f.jsx("i",{className:"fas fa-briefcase text-2xl mb-2"}),f.jsx("div",{className:"font-semibold",children:"ビジネス"}),f.jsx("div",{className:"text-sm opacity-90",children:"1件"})]}),f.jsxs(l,{to:"/category/ライフスタイル",className:"category-card bg-pink-500 text-white p-6 rounded-lg text-center hover:bg-pink-600 transition-all hover-lift",children:[f.jsx("i",{className:"fas fa-heart text-2xl mb-2"}),f.jsx("div",{className:"font-semibold",children:"ライフスタイル"}),f.jsx("div",{className:"text-sm opacity-90",children:"1件"})]}),f.jsxs(l,{to:"/category/エンターテイメント",className:"category-card bg-yellow-500 text-white p-6 rounded-lg text-center hover:bg-yellow-600 transition-all hover-lift",children:[f.jsx("i",{className:"fas fa-gamepad text-2xl mb-2"}),f.jsx("div",{className:"font-semibold",children:"エンターテイメント"}),f.jsx("div",{className:"text-sm opacity-90",children:"1件"})]}),f.jsxs(l,{to:"/category/ヘルスケア",className:"category-card bg-red-500 text-white p-6 rounded-lg text-center hover:bg-red-600 transition-all hover-lift",children:[f.jsx("i",{className:"fas fa-heartbeat text-2xl mb-2"}),f.jsx("div",{className:"font-semibold",children:"ヘルスケア"}),f.jsx("div",{className:"text-sm opacity-90",children:"1件"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"survey-card bg-white rounded-xl shadow-lg overflow-hidden",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=400&h=200&fit=crop",alt:"スマートフォンアプリの使用状況調査",className:"w-full h-48 object-cover"}),f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-3",children:f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:"テクノロジー"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"スマートフォンアプリの使用状況調査"}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"日常的に使用しているアプリについて教えてください"}),f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-clock mr-1"}),"5分"]}),f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-question-circle mr-1"}),"8問"]})]}),f.jsx("span",{className:"text-lg font-bold text-green-600 points-glow",children:"50pt"})]}),f.jsxs(l,{to:"/survey/survey_1",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-semibold text-center block",children:[f.jsx("i",{className:"fas fa-play mr-2"}),"回答する"]})]})]}),f.jsxs("div",{className:"survey-card bg-white rounded-xl shadow-lg overflow-hidden",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=400&h=200&fit=crop",alt:"オンラインショッピングの利用実態",className:"w-full h-48 object-cover"}),f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-3",children:f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"ショッピング"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"オンラインショッピングの利用実態"}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"あなたの買い物習慣について教えてください"}),f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-clock mr-1"}),"7分"]}),f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-question-circle mr-1"}),"12問"]})]}),f.jsx("span",{className:"text-lg font-bold text-green-600 points-glow",children:"40pt"})]}),f.jsxs(l,{to:"/survey/survey_2",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-semibold text-center block",children:[f.jsx("i",{className:"fas fa-play mr-2"}),"回答する"]})]})]}),f.jsxs("div",{className:"survey-card bg-white rounded-xl shadow-lg overflow-hidden",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=200&fit=crop",alt:"働き方に関する意識調査",className:"w-full h-48 object-cover"}),f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-3",children:f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-800",children:"ビジネス"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"働き方に関する意識調査"}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"現代の働き方についてあなたの意見を聞かせてください"}),f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-clock mr-1"}),"10分"]}),f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-question-circle mr-1"}),"15問"]})]}),f.jsx("span",{className:"text-lg font-bold text-green-600 points-glow",children:"60pt"})]}),f.jsxs(l,{to:"/survey/survey_3",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-semibold text-center block",children:[f.jsx("i",{className:"fas fa-play mr-2"}),"回答する"]})]})]})]})]}):f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"ログインが必要です"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"アンケート一覧を表示するにはログインしてください"}),f.jsx(l,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"ログイン"})]})})},F=()=>{const{category:e}=r(),{isAuthenticated:s}=y();if(!s)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"ログインが必要です"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"カテゴリーページを表示するにはログインしてください"}),f.jsx(l,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"ログイン"})]})});const t={"テクノロジー":{title:"テクノロジー",description:"最新のテクノロジーとデジタル技術に関するアンケート",icon:"fas fa-laptop-code",color:"#3B82F6",colorDark:"#1E40AF"},"ショッピング":{title:"ショッピング",description:"オンラインショッピングと買い物に関するアンケート",icon:"fas fa-shopping-cart",color:"#10B981",colorDark:"#047857"},"ビジネス":{title:"ビジネス",description:"働き方とビジネス環境に関するアンケート",icon:"fas fa-briefcase",color:"#8B5CF6",colorDark:"#6D28D9"},"ライフスタイル":{title:"ライフスタイル",description:"日常生活とライフスタイルに関するアンケート",icon:"fas fa-heart",color:"#EC4899",colorDark:"#BE185D"},"エンターテイメント":{title:"エンターテイメント",description:"ゲームとエンターテイメントに関するアンケート",icon:"fas fa-gamepad",color:"#F59E0B",colorDark:"#D97706"},"ヘルスケア":{title:"ヘルスケア",description:"健康管理とヘルスケアに関するアンケート",icon:"fas fa-heartbeat",color:"#EF4444",colorDark:"#DC2626"}}[e]||{title:"すべてのアンケート",description:"すべてのカテゴリーのアンケートを表示しています",icon:"fas fa-th-large",color:"#667eea",colorDark:"#764ba2"};return f.jsxs("div",{children:[f.jsx("div",{className:"text-white py-16",style:{background:`linear-gradient(135deg, ${t.color} 0%, ${t.colorDark} 100%)`},children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("i",{className:`${t.icon} text-3xl text-white`})}),f.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:t.title}),f.jsx("p",{className:"text-xl md:text-2xl mb-8 opacity-90",children:t.description}),f.jsx("div",{className:"text-lg opacity-80",children:"2件のアンケートが利用可能"})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsx("nav",{className:"mb-8",children:f.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[f.jsx("li",{children:f.jsx(l,{to:"/",className:"hover:text-blue-600",children:"ホーム"})}),f.jsx("li",{children:f.jsx("i",{className:"fas fa-chevron-right text-xs"})}),f.jsx("li",{children:f.jsx(l,{to:"/surveys",className:"hover:text-blue-600",children:"アンケート一覧"})}),f.jsx("li",{children:f.jsx("i",{className:"fas fa-chevron-right text-xs"})}),f.jsx("li",{className:"text-gray-900 font-medium",children:t.title})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"survey-card bg-white rounded-xl shadow-lg overflow-hidden",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=400&h=200&fit=crop",alt:"スマートフォンアプリの使用状況調査",className:"w-full h-48 object-cover"}),f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-3",children:f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:"テクノロジー"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"スマートフォンアプリの使用状況調査"}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"日常的に使用しているアプリについて教えてください"}),f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-clock mr-1"}),"5分"]}),f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-question-circle mr-1"}),"8問"]})]}),f.jsx("span",{className:"text-lg font-bold text-green-600",children:"50pt"})]}),f.jsxs(l,{to:"/survey/survey_1",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-semibold text-center block",children:[f.jsx("i",{className:"fas fa-play mr-2"}),"回答する"]})]})]}),f.jsxs("div",{className:"survey-card bg-white rounded-xl shadow-lg overflow-hidden",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=400&h=200&fit=crop",alt:"オンラインショッピングの利用実態",className:"w-full h-48 object-cover"}),f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-3",children:f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"ショッピング"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"オンラインショッピングの利用実態"}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"あなたの買い物習慣について教えてください"}),f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-clock mr-1"}),"7分"]}),f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-question-circle mr-1"}),"12問"]})]}),f.jsx("span",{className:"text-lg font-bold text-green-600",children:"40pt"})]}),f.jsxs(l,{to:"/survey/survey_2",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-semibold text-center block",children:[f.jsx("i",{className:"fas fa-play mr-2"}),"回答する"]})]})]})]}),f.jsx("div",{className:"text-center mt-12",children:f.jsxs(l,{to:"/surveys",className:"inline-flex items-center bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:[f.jsx("i",{className:"fas fa-arrow-left mr-2"}),"カテゴリー一覧に戻る"]})})]})]})},P=()=>{const{currentUser:e,isAuthenticated:s}=y();return s?f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"ダッシュボード"}),f.jsxs("p",{className:"text-xl text-gray-600",children:["ようこそ、",e.name,"さん"]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[f.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:f.jsx("i",{className:"fas fa-chart-line text-2xl text-blue-600"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"獲得ポイント"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.points})]})]})}),f.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:f.jsx("i",{className:"fas fa-check-circle text-2xl text-green-600"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"完了したアンケート"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.surveysCompleted.length})]})]})}),f.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:f.jsx("i",{className:"fas fa-calendar text-2xl text-purple-600"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"登録日"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Date(e.joinDate).toLocaleDateString("ja-JP")})]})]})}),f.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:f.jsx("i",{className:"fas fa-clock text-2xl text-orange-600"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"最終ログイン"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Date(e.lastLogin).toLocaleDateString("ja-JP")})]})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"最近の活動"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:f.jsx("i",{className:"fas fa-check text-green-600"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:"アンケート完了"}),f.jsx("p",{className:"text-xs text-gray-500",children:"スマートフォンアプリの使用状況調査"})]}),f.jsx("div",{className:"ml-auto",children:f.jsx("span",{className:"text-sm font-medium text-green-600",children:"+50pt"})})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:f.jsx("i",{className:"fas fa-user-plus text-blue-600"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:"アカウント作成"}),f.jsx("p",{className:"text-xs text-gray-500",children:"新規登録完了"})]}),f.jsx("div",{className:"ml-auto",children:f.jsx("span",{className:"text-sm font-medium text-blue-600",children:"+100pt"})})]})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"おすすめアンケート"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=60&h=60&fit=crop",alt:"アンケート",className:"w-12 h-12 rounded-lg object-cover"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:"スマートフォンアプリの使用状況調査"}),f.jsx("p",{className:"text-xs text-gray-500",children:"テクノロジー • 5分 • 50pt"})]}),f.jsx("button",{className:"bg-blue-600 text-white px-3 py-1 rounded text-xs hover:bg-blue-700 transition-colors",children:"回答"})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=60&h=60&fit=crop",alt:"アンケート",className:"w-12 h-12 rounded-lg object-cover"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:"オンラインショッピングの利用実態"}),f.jsx("p",{className:"text-xs text-gray-500",children:"ショッピング • 7分 • 40pt"})]}),f.jsx("button",{className:"bg-blue-600 text-white px-3 py-1 rounded text-xs hover:bg-blue-700 transition-colors",children:"回答"})]})]})]})]})]}):f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"ログインが必要です"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"ダッシュボードを表示するにはログインしてください"})]})})},T=({title:e,value:s,change:t,changeType:a="neutral",icon:l,color:r="primary",trend:i,subtitle:c,loading:n=!1,className:d=""})=>n?f.jsx("div",{className:`metric-card ${d}`,children:f.jsxs("div",{className:"animate-pulse",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),f.jsx("div",{className:"w-16 h-4 bg-gray-200 rounded"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"w-24 h-8 bg-gray-200 rounded"}),f.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]})]})}):f.jsxs("div",{className:`metric-card ${d}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:`metric-icon ${{primary:"text-blue-600 bg-blue-100",success:"text-emerald-600 bg-emerald-100",warning:"text-amber-600 bg-amber-100",danger:"text-red-600 bg-red-100",info:"text-cyan-600 bg-cyan-100"}[r]}`,children:l}),t&&f.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${{positive:"text-emerald-600 bg-emerald-50",negative:"text-red-600 bg-red-50",neutral:"text-gray-600 bg-gray-50"}[a]}`,children:f.jsxs("span",{className:"flex items-center",children:["positive"===a&&f.jsx("span",{className:"mr-1",children:"↗"}),"negative"===a&&f.jsx("span",{className:"mr-1",children:"↘"}),"neutral"===a&&f.jsx("span",{className:"mr-1",children:"→"}),t]})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"metric-value",children:"number"==typeof s?s.toLocaleString():s}),f.jsx("div",{className:"metric-label",children:e}),c&&f.jsx("div",{className:"text-sm text-gray-500 mt-1",children:c})]}),i&&f.jsxs("div",{className:"mt-4",children:[f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[f.jsx("span",{children:"トレンド"}),f.jsx("span",{children:i.period})]}),f.jsx("div",{className:"progress-bar",children:f.jsx("div",{className:"progress-fill",style:{width:`${i.percentage}%`}})})]})]}),E=({survey:e,analytics:s,loading:t})=>f.jsx(T,{title:"総アンケート数",value:(null==s?void 0:s.total_surveys)||0,change:"+12%",changeType:"positive",icon:f.jsx("i",{className:"fas fa-chart-line"}),color:"primary",subtitle:"アクティブなアンケート",loading:t}),$=({analytics:e,loading:s})=>f.jsx(T,{title:"総回答数",value:(null==e?void 0:e.total_responses)||0,change:"+8%",changeType:"positive",icon:f.jsx("i",{className:"fas fa-check-circle"}),color:"success",subtitle:"今月の回答数",loading:s}),L=({analytics:e,loading:s})=>{var t;return f.jsx(T,{title:"平均完了率",value:`${(null==(t=null==e?void 0:e.average_completion_rate)?void 0:t.toFixed(1))||0}%`,change:"-2%",changeType:"negative",icon:f.jsx("i",{className:"fas fa-percentage"}),color:"warning",subtitle:"全アンケート平均",loading:s})},J=({analytics:e,loading:s})=>{var t;return f.jsx(T,{title:"平均品質スコア",value:(null==(t=null==e?void 0:e.average_response_quality)?void 0:t.toFixed(1))||0,change:"+5%",changeType:"positive",icon:f.jsx("i",{className:"fas fa-star"}),color:"info",subtitle:"回答品質評価",loading:s})},R=()=>{var s,t,a,l,r,i;const{currentUser:c,isAuthenticated:n}=y();S();const[d,o]=e.useState(null),[x,m]=e.useState(!0),[h,u]=e.useState(null),[g,j]=e.useState("overview");e.useEffect((()=>{n&&p()}),[n]);const p=async()=>{try{const e=await fetch("/api/analytics/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),s=await e.json();s.success&&o(s.data)}catch(e){console.error("Failed to fetch dashboard data:",e)}finally{m(!1)}};return n?x?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"loading-spinner mx-auto mb-4"}),f.jsx("p",{className:"text-white text-lg",children:"AI分析データを読み込み中..."})]})}):f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"mb-8 fade-in",children:[f.jsx("h1",{className:"text-5xl font-bold text-white mb-3 bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"AI分析ダッシュボード"}),f.jsxs("p",{className:"text-xl text-blue-100 flex items-center",children:[f.jsx("i",{className:"fas fa-brain mr-2"}),"Domo.AI パワード アンケート分析システム"]})]}),f.jsx("div",{className:"glass-card p-8 mb-8 text-white slide-in-left",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-3xl font-bold mb-3 flex items-center",children:[f.jsx("i",{className:"fas fa-brain mr-3 text-yellow-300"}),"AI インサイト"]}),f.jsx("p",{className:"text-blue-100 text-lg",children:"リアルタイムでアンケートデータを分析し、自動的にインサイトを生成します"})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-4xl font-bold text-yellow-300",children:(null==(s=null==d?void 0:d.ai_recommendations)?void 0:s.length)||0}),f.jsx("div",{className:"text-blue-100 text-sm",children:"アクティブな推奨事項"}),f.jsx("div",{className:"mt-2",children:f.jsxs("span",{className:"status-indicator success",children:[f.jsx("i",{className:"fas fa-check-circle mr-1"}),"アクティブ"]})})]})]})}),f.jsxs("div",{className:"grid-responsive mb-8",children:[f.jsx(E,{analytics:null==d?void 0:d.overview,loading:x}),f.jsx($,{analytics:null==d?void 0:d.overview,loading:x}),f.jsx(L,{analytics:null==d?void 0:d.overview,loading:x}),f.jsx(J,{analytics:null==d?void 0:d.overview,loading:x})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-1",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"アンケート一覧"}),f.jsx("div",{className:"space-y-3",children:null==(t=null==d?void 0:d.recent_surveys)?void 0:t.map((e=>f.jsx("div",{className:"p-4 rounded-lg border cursor-pointer transition-colors "+((null==h?void 0:h.survey_id)===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>(async e=>{try{const s=await fetch(`/api/analytics/survey/${e}/analytics`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),t=await s.json();t.success&&u(t.data)}catch(s){console.error("Failed to fetch survey analytics:",s)}})(e.id),children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:e.title}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.category}),f.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[f.jsxs("span",{className:"text-xs text-gray-500",children:[f.jsx("i",{className:"fas fa-users mr-1"}),e.response_count," 回答"]}),f.jsxs("span",{className:"text-xs text-gray-500",children:[f.jsx("i",{className:"fas fa-percentage mr-1"}),e.completion_rate.toFixed(1),"%"]})]})]}),f.jsx("div",{className:"flex space-x-2",children:f.jsx("button",{onClick:s=>{s.stopPropagation(),(async(e,s="pdf")=>{try{const t=await fetch(`/api/analytics/survey/${e}/generate-report`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({report_type:s,include_charts:!0,include_insights:!0})}),a=await t.json();a.success&&window.open(a.data.download_url,"_blank")}catch(t){console.error("Failed to generate report:",t)}})(e.id,"pdf")},className:"text-blue-600 hover:text-blue-800 text-xs",children:f.jsx("i",{className:"fas fa-download"})})})]})},e.id)))})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"🤖 AI推奨事項"}),f.jsx("div",{className:"space-y-3",children:null==(a=null==d?void 0:d.ai_recommendations)?void 0:a.map(((e,s)=>f.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-600"})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:e.survey_title}),f.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:e.recommendation})]})]})},s)))})]})]}),f.jsx("div",{className:"lg:col-span-2",children:h?f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"詳細分析"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>j("overview"),className:"px-3 py-1 rounded text-sm "+("overview"===g?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"),children:"概要"}),f.jsx("button",{onClick:()=>j("insights"),className:"px-3 py-1 rounded text-sm "+("insights"===g?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"),children:"AIインサイト"}),f.jsx("button",{onClick:()=>j("demographics"),className:"px-3 py-1 rounded text-sm "+("demographics"===g?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"),children:"デモグラフィック"})]})]}),"overview"===g&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.total_responses}),f.jsx("div",{className:"text-sm text-gray-600",children:"総回答数"})]}),f.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[f.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[null==(l=h.completion_rate)?void 0:l.toFixed(1),"%"]}),f.jsx("div",{className:"text-sm text-gray-600",children:"完了率"})]}),f.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[f.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[null==(r=h.average_completion_time)?void 0:r.toFixed(1),"分"]}),f.jsx("div",{className:"text-sm text-gray-600",children:"平均時間"})]}),f.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-orange-600",children:null==(i=h.response_quality_score)?void 0:i.toFixed(1)}),f.jsx("div",{className:"text-sm text-gray-600",children:"品質スコア"})]})]}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[f.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"回答トレンド"}),f.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:f.jsxs("div",{className:"text-center",children:[f.jsx("i",{className:"fas fa-chart-line text-4xl mb-2"}),f.jsx("p",{children:"チャート表示エリア"}),f.jsx("p",{className:"text-sm",children:"Chart.js または D3.js で実装"})]})})]})]}),"insights"===g&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4",children:[f.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"🤖 AI生成インサイト"}),f.jsx("p",{className:"text-sm text-gray-600",children:"機械学習アルゴリズムが回答データを分析し、自動的にインサイトを生成しています。"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("i",{className:"fas fa-lightbulb text-green-600 mt-1"}),f.jsxs("div",{className:"ml-3",children:[f.jsx("h5",{className:"font-medium text-green-800",children:"回答品質が向上しています"}),f.jsx("p",{className:"text-sm text-green-700 mt-1",children:"最近の回答は詳細で一貫性があり、分析に適しています。"})]})]})}),f.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("i",{className:"fas fa-chart-bar text-blue-600 mt-1"}),f.jsxs("div",{className:"ml-3",children:[f.jsx("h5",{className:"font-medium text-blue-800",children:"回答者の満足度が高い"}),f.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"感情分析の結果、回答者の80%がポジティブな感情を示しています。"})]})]})})]})]}),"demographics"===g&&f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[f.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"性別分布"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-sm text-gray-600",children:"男性"}),f.jsx("span",{className:"text-sm font-medium",children:"45%"})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"45%"}})}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-sm text-gray-600",children:"女性"}),f.jsx("span",{className:"text-sm font-medium",children:"55%"})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-pink-600 h-2 rounded-full",style:{width:"55%"}})})]})]}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[f.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"年齢分布"}),f.jsx("div",{className:"space-y-2",children:[{age:"20代",percentage:30},{age:"30代",percentage:40},{age:"40代",percentage:20},{age:"50代以上",percentage:10}].map(((e,s)=>f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-sm text-gray-600",children:e.age}),f.jsxs("span",{className:"text-sm font-medium",children:[e.percentage,"%"]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${e.percentage}%`}})})]},s)))})]})]})})]}):f.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:f.jsxs("div",{className:"text-center py-12",children:[f.jsx("i",{className:"fas fa-chart-bar text-6xl text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"アンケートを選択してください"}),f.jsx("p",{className:"text-gray-600",children:"左側のリストからアンケートを選択すると、詳細な分析が表示されます。"})]})})})]})]}):f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"ログインが必要です"}),f.jsx("p",{className:"text-gray-600",children:"分析ダッシュボードを表示するにはログインしてください"})]})})},B=()=>{r();const{currentUser:s,isAuthenticated:t,addPoints:l,completeSurvey:i}=y(),c=a(),[n,d]=e.useState(0),[o,x]=e.useState({}),[m,h]=e.useState(!1);if(!t)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"ログインが必要です"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"アンケートに回答するにはログインしてください"})]})});const u={id:"survey_1",title:"スマートフォンアプリの使用状況調査",description:"日常的に使用しているアプリについて教えてください",category:"テクノロジー",points:50,estimatedTime:5,questions:[{id:1,question:"あなたが最もよく使用するスマートフォンアプリは何ですか？",type:"single",options:["LINE","Instagram","Twitter","TikTok","YouTube","その他"]},{id:2,question:"1日にスマートフォンを使用する時間はどのくらいですか？",type:"single",options:["1時間未満","1-3時間","3-5時間","5-8時間","8時間以上"]},{id:3,question:"アプリを選ぶ際に重視する要素は？（複数選択可）",type:"multiple",options:["使いやすさ","デザイン","機能性","セキュリティ","価格","レビュー評価"]}]},g=(e,s)=>{x((t=>({...t,[e]:s})))},j=()=>{c("/dashboard")};if(m)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("i",{className:"fas fa-check text-2xl text-green-600"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"アンケート完了！"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"ご協力ありがとうございました"}),f.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:f.jsxs("p",{className:"text-green-800 font-semibold",children:["+",u.points,"ポイント獲得"]})}),f.jsx("button",{onClick:j,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"ダッシュボードに戻る"})]})});const p=u.questions[n];return f.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:u.category}),f.jsxs("span",{className:"text-lg font-bold text-green-600",children:[u.points,"pt"]})]}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.title}),f.jsx("p",{className:"text-gray-600 mb-4",children:u.description}),f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-clock mr-1"}),u.estimatedTime,"分"]}),f.jsxs("span",{children:[f.jsx("i",{className:"fas fa-question-circle mr-1"}),u.questions.length,"問"]})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"進捗"}),f.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[n+1," / ",u.questions.length]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:(n+1)/u.questions.length*100+"%"}})})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:p.question}),f.jsx("div",{className:"space-y-3",children:p.options.map(((e,s)=>{var t;return f.jsxs("label",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer",children:[f.jsx("input",{type:"multiple"===p.type?"checkbox":"radio",name:`question_${p.id}`,value:e,checked:"multiple"===p.type?(null==(t=o[p.id])?void 0:t.includes(e))||!1:o[p.id]===e,onChange:s=>{if("multiple"===p.type){const t=o[p.id]||[],a=s.target.checked?[...t,e]:t.filter((s=>s!==e));g(p.id,a)}else g(p.id,e)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),f.jsx("span",{className:"text-gray-900",children:e})]},s)}))}),f.jsxs("div",{className:"flex justify-between mt-8",children:[f.jsxs("button",{onClick:()=>{n>0&&d(n-1)},disabled:0===n,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[f.jsx("i",{className:"fas fa-arrow-left mr-2"}),"前へ"]}),f.jsxs("button",{onClick:()=>{n<u.questions.length-1?d(n+1):(h(!0),l(u.points),i(u.id))},disabled:!o[p.id]||Array.isArray(o[p.id])&&0===o[p.id].length,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n===u.questions.length-1?"完了":"次へ",f.jsx("i",{className:"fas fa-arrow-right ml-2"})]})]})]})]})},M=()=>{const[s,t]=e.useState(!1),[a,l]=e.useState(!1);e.useEffect((()=>{const e=localStorage.getItem("cookie-consent");e?l("accepted"===e):t(!0)}),[]);const r=()=>{"undefined"!=typeof gtag&&gtag("consent","update",{analytics_storage:"granted"}),fetch("/api/analytics/consent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({consent:!0,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,screenResolution:`${screen.width}x${screen.height}`,language:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone})})},i=()=>{"undefined"!=typeof gtag&&gtag("consent","update",{analytics_storage:"denied"}),console.log("Analytics disabled - using privacy-first approach")};return s?f.jsx("div",{className:"cookie-banner",role:"banner","aria-live":"polite",children:f.jsxs("div",{className:"cookie-consent",children:[f.jsx("div",{className:"cookie-text",children:f.jsxs("p",{children:[f.jsx("strong",{children:"プライバシー保護について"}),f.jsx("br",{}),"当サイトでは、サードパーティクッキーを使用せず、プライバシーを重視した分析を行います。 データは匿名化され、個人を特定できない形で収集されます。"]})}),f.jsxs("div",{className:"cookie-buttons",children:[f.jsx("button",{onClick:()=>{localStorage.setItem("cookie-consent","accepted"),l(!0),t(!1),r()},className:"cookie-accept","aria-label":"分析データの収集に同意する",children:"同意する"}),f.jsx("button",{onClick:()=>{localStorage.setItem("cookie-consent","declined"),l(!1),t(!1),i()},className:"cookie-decline","aria-label":"分析データの収集を拒否する",children:"拒否する"})]})]})}):null};function U(){return f.jsx(_,{children:f.jsx(w,{children:f.jsx(i,{children:f.jsxs("div",{className:"min-h-screen",children:[f.jsx(C,{}),f.jsx("main",{children:f.jsxs(c,{children:[f.jsx(n,{path:"/",element:f.jsx(D,{})}),f.jsx(n,{path:"/login",element:f.jsx(q,{})}),f.jsx(n,{path:"/register",element:f.jsx(O,{})}),f.jsx(n,{path:"/surveys",element:f.jsx(A,{})}),f.jsx(n,{path:"/category/:category",element:f.jsx(F,{})}),f.jsx(n,{path:"/dashboard",element:f.jsx(P,{})}),f.jsx(n,{path:"/analytics",element:f.jsx(R,{})}),f.jsx(n,{path:"/survey/:id",element:f.jsx(B,{})})]})}),f.jsx(I,{}),f.jsx(M,{})]})})})})}b.createRoot(document.getElementById("root")).render(f.jsx(t.StrictMode,{children:f.jsx(U,{})}));
